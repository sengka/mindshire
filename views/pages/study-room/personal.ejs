<div class="fixed-background"></div>

<section class="study-room">
  <div class="study-room__container">
    <div class="study-room__header">
      <div>
        <h1 class="study-room__title magical-title">KiÅŸisel Ã‡alÄ±ÅŸma OdasÄ±</h1>
        <p class="study-room__subtitle magical-subtitle">
          Study with me + pomodoro + ortam seÃ§imi.
        </p>
      </div>
    </div>

    <div class="study-room__grid">
      <!-- SOL: YouTube -->
      <div class="study-room__card">
        <h2>Study With Me</h2>

        <div class="study-room__row">
          <input id="ytUrl" class="study-room__input" type="text"
            placeholder="YouTube linkini yapÄ±ÅŸtÄ±r (Ã¶rn: https://www.youtube.com/watch?v=...)" autocomplete="off" />
        </div>

        <p class="study-room__hint" id="ytStatus"></p>

        <div class="study-room__player">
          <iframe id="ytPlayer" src="https://www.youtube.com/embed/jfKfPfyJRdk" title="Study With Me"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen></iframe>
        </div>
      </div>

      <!-- SAÄ: Pomodoro -->
      <div class="study-room__card">
        <h2>Odak Modu</h2>

        <div class="pomodoro__time" id="pomoTime">25:00</div>

        <div class="pomodoro__controls">
          <button class="btn-primary" type="button" id="pomoStart">
            BaÅŸlat
          </button>
          <button class="btn-secondary" type="button" id="pomoPause">
            Durdur
          </button>
          <button class="btn-secondary" type="button" id="pomoReset">
            SÄ±fÄ±rla
          </button>
        </div>

        <!-- MODLAR -->
        <div class="pomodoro__modes">
          <!-- Odak presetleri -->
          <button type="button" class="badge is-active" id="modeWork" data-mode="work" data-minutes="25">
            ğŸ… Odak: 25 dk
          </button>
          <button type="button" class="badge" data-mode="work" data-minutes="50">
            ğŸ”¥ Odak: 50 dk
          </button>
          <button type="button" class="badge" data-mode="work" data-minutes="90">
            ğŸ§  Odak: 90 dk
          </button>

          <!-- Molalar -->
          <button type="button" class="badge" id="modeShort" data-mode="short" data-minutes="5">
            â˜• KÄ±sa mola: 5 dk
          </button>
          <button type="button" class="badge" data-mode="short" data-minutes="10">
            â˜• KÄ±sa mola: 10 dk
          </button>

          <button type="button" class="badge" id="modeLong" data-mode="long" data-minutes="15">
            ğŸŒ™ Uzun mola: 15 dk
          </button>
          <button type="button" class="badge" data-mode="long" data-minutes="25">
            ğŸŒ™ Uzun mola: 25 dk
          </button>
        </div>

        <!-- Ã–ZEL SÃœRE -->
        <div class="study-room__row" style="margin-top: 12px">
          <input id="customMinutes" class="study-room__input" type="number" min="1" max="180"
            placeholder="Ã–zel sÃ¼re (dk) Ã¶rn: 45" style="max-width: 240px" />
          <button id="applyCustom" class="btn-secondary" type="button">
            Uygula
          </button>
        </div>

        <p class="study-room__hint" id="pomoPlannedHint">
          Planlanan sÃ¼re: <strong id="pomoPlanned">25</strong> dk
        </p>

        <p class="study-room__hint" id="pomoStatus">
          HazÄ±r. BaÅŸlatÄ±nca odak baÅŸlar.
        </p>

        <a class="study-room__hint" href="/study-room/log">
          ğŸ“œ BugÃ¼nkÃ¼ pomodorolarÄ± gÃ¶r
        </a>
      </div>
    </div>

    <!-- CSRF Token for JavaScript -->
    <script>
      window.MINDSHIRE_CSRF_TOKEN = "<%= csrfToken %>";
    </script>

    <!-- Scripts -->
    <script src="/js/study-room.js"></script>
    <script src="/js/pomodoro.js"></script>
  </div>
</section>