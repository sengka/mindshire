<div class="fixed-background"></div>

<section class="stats-page">
    <div class="stats-container">
        <div class="stats-header">
            <h1 class="stats-title">ğŸ”¥ Streak Ä°statistikleri</h1>
            <p class="stats-subtitle">AralÄ±ksÄ±z Ã§alÄ±ÅŸma serilerin ve aktivite takvimin</p>
        </div>

        <!-- Streak KartlarÄ± -->
        <div class="streak-cards">
            <div class="streak-card streak-current">
                <div class="streak-icon">ğŸ”¥</div>
                <div class="streak-value">
                    <%= currentStreak %>
                </div>
                <div class="streak-label">Mevcut Streak</div>
                <div class="streak-note">ArdÄ±ÅŸÄ±k Ã§alÄ±ÅŸma gÃ¼nÃ¼</div>
            </div>

            <div class="streak-card streak-longest">
                <div class="streak-icon">ğŸ†</div>
                <div class="streak-value">
                    <%= longestStreak %>
                </div>
                <div class="streak-label">En Uzun Streak</div>
                <div class="streak-note">Rekor performans</div>
            </div>
        </div>

        <!-- Motivasyon MesajÄ± -->
        <div class="streak-motivation">
            <% if (currentStreak===0) { %>
                <p>ğŸ’ª BugÃ¼n Ã§alÄ±ÅŸmaya baÅŸla ve streak'ini oluÅŸtur!</p>
                <% } else if (currentStreak < 7) { %>
                    <p>ğŸŒŸ Harika gidiyorsun! <%= 7 - currentStreak %> gÃ¼n daha ve 1 haftalÄ±k streak'e ulaÅŸacaksÄ±n!</p>
                    <% } else if (currentStreak < 30) { %>
                        <p>ğŸš€ MuhteÅŸem! <%= 30 - currentStreak %> gÃ¼n daha ve 1 aylÄ±k streak'e ulaÅŸacaksÄ±n!</p>
                        <% } else { %>
                            <p>ğŸ‘‘ Efsanesin! <%= currentStreak %> gÃ¼nlÃ¼k streak'in var!</p>
                            <% } %>
        </div>

        <!-- AylÄ±k Aktivite Takvimi -->
        <div class="stats-section">
            <h2>ğŸ“… <%= currentMonth %> Aktivite Takvimi</h2>
            <div class="activity-calendar">
                <% monthActivity.forEach(day=> { %>
                    <div class="calendar-day <%= day.hasActivity ? 'has-activity' : 'no-activity' %>"
                        title="<%= day.date.toLocaleDateString('tr-TR') %>: <%= day.sessions %> seans, <%= day.tasks %> gÃ¶rev, <%= day.minutes %> dk">
                        <div class="day-number">
                            <%= day.day %>
                        </div>
                        <div class="day-name">
                            <%= day.dayName %>
                        </div>
                        <% if (day.hasActivity) { %>
                            <div class="activity-indicator">
                                <% if (day.minutes> 120) { %>
                                    <span class="activity-level-high">â—</span>
                                    <% } else if (day.minutes> 60) { %>
                                        <span class="activity-level-medium">â—</span>
                                        <% } else { %>
                                            <span class="activity-level-low">â—</span>
                                            <% } %>
                            </div>
                            <% } %>
                    </div>
                    <% }) %>
            </div>

            <div class="calendar-legend">
                <span class="legend-item">
                    <span class="activity-level-low">â—</span> 1-60 dk
                </span>
                <span class="legend-item">
                    <span class="activity-level-medium">â—</span> 61-120 dk
                </span>
                <span class="legend-item">
                    <span class="activity-level-high">â—</span> 120+ dk
                </span>
                <span class="legend-item">
                    <span class="no-activity-dot">â—‹</span> Ã‡alÄ±ÅŸma yok
                </span>
            </div>
        </div>

        <!-- Ä°puÃ§larÄ± -->
        <div class="streak-tips">
            <h3>ğŸ’¡ Streak Ä°puÃ§larÄ±</h3>
            <ul>
                <li>Her gÃ¼n en az 1 pomodoro tamamla veya 1 gÃ¶rev bitir</li>
                <li>Streak'ini korumak iÃ§in dÃ¼zenli Ã§alÄ±ÅŸ</li>
                <li>Hafta sonlarÄ± da kÃ¼Ã§Ã¼k hedefler koy</li>
                <li>Streak kÄ±rÄ±lÄ±rsa Ã¼zÃ¼lme, yeniden baÅŸla!</li>
            </ul>
        </div>

        <!-- Geri DÃ¶n -->
        <div class="stats-back">
            <a href="/stats" class="btn-secondary">â† Genel Ä°statistiklere DÃ¶n</a>
        </div>
    </div>
</section>